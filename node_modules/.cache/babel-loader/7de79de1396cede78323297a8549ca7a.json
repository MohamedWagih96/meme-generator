{"ast":null,"code":"var _jsxFileName = \"/media/rogue/Rogue/Work/Projects/React/meme-generator/src/components/MemeGenerator.js\";\nimport React from \"react\";\nimport html2canvas from \"html2canvas\";\nimport Form from \"./Form\";\nimport Meme from \"./Meme\";\nimport \"./MemeGenerator.css\";\n\nclass MemeGenerator extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      topText: \"\",\n      bottomText: \"\",\n      randomImg: \"https://i.imgur.com/XTNyiVw.png\",\n      allMemeImgs: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"https://api.imgflip.com/get_memes\").then(response => response.json()).then(data => {\n      this.setState({\n        allMemeImgs: data.data.memes\n      });\n    }).catch(error => {\n      console.log(\"Error while retrieving data from the server\");\n    });\n  }\n\n  shuffle() {\n    let randomIndex = Math.floor(Math.random() * this.state.allMemeImgs.length);\n    this.setState({\n      randomImg: this.state.allMemeImgs[randomIndex].url\n    });\n  }\n\n  save() {\n    console.log(\"yo\");\n    html2canvas(document.getElementById(\"xx\")).then(function (canvas) {\n      document.body.appendChild(canvas);\n    });\n  }\n\n  handleClick(event) {\n    //To prevent page refreshing\n    event.preventDefault();\n    const name = event.target.name;\n    if (name === \"shuffleButton\") this.shuffle();else if (name === \"saveButton\") this.save();\n  }\n\n  handleChange(event) {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"memeGeneratorBody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Form, {\n      topText: this.state.topText,\n      bottomText: this.state.bottomText,\n      handleChange: this.handleChange,\n      handleClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Meme, {\n      url: this.state.randomImg,\n      topText: this.state.topText,\n      bottomText: this.state.bottomText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"outer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"DOM-rendered\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\xA0\"), React.createElement(\"div\", {\n      id: \"imagewrap\",\n      class: \"wrap\",\n      style: \"border-style: solid;\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://i.imgur.com/EFM76Qe.jpg?1\",\n      id: \"img_prev\",\n      width: \"170\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      class: \"desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Something \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: \"color: blue;\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Inspirational\")), React.createElement(\"span\", {\n      id: \"wow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"WOW!\"))), React.createElement(\"div\", {\n      id: \"canvasWrapper\",\n      class: \"outer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Canvas-rendered (try right-click, save image as!)\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Or, \", React.createElement(\"a\", {\n      id: \"downloadLink\",\n      download: \"cat.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Click Here to Download!\"))));\n  }\n\n}\n\nexport default MemeGenerator;","map":{"version":3,"sources":["/media/rogue/Rogue/Work/Projects/React/meme-generator/src/components/MemeGenerator.js"],"names":["React","html2canvas","Form","Meme","MemeGenerator","Component","constructor","state","topText","bottomText","randomImg","allMemeImgs","handleChange","bind","handleClick","componentDidMount","fetch","then","response","json","data","setState","memes","catch","error","console","log","shuffle","randomIndex","Math","floor","random","length","url","save","document","getElementById","canvas","body","appendChild","event","preventDefault","name","target","value","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport html2canvas from \"html2canvas\";\nimport Form from \"./Form\";\nimport Meme from \"./Meme\";\nimport \"./MemeGenerator.css\";\n\n\n\nclass MemeGenerator extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            topText: \"\",\n            bottomText: \"\",\n            randomImg: \"https://i.imgur.com/XTNyiVw.png\",\n            allMemeImgs: []\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    componentDidMount() {\n        fetch(\"https://api.imgflip.com/get_memes\")\n        .then(response => response.json())\n        .then(data => {\n            this.setState({\n                allMemeImgs: data.data.memes\n            })\n        })\n        .catch(error => {\n            console.log(\"Error while retrieving data from the server\")\n        })\n    }\n\n    shuffle() {\n        let randomIndex = Math.floor(Math.random() * this.state.allMemeImgs.length);\n        this.setState({\n            randomImg: this.state.allMemeImgs[randomIndex].url\n        });\n    }\n\n    save() {\n        console.log(\"yo\")\n        html2canvas(document.getElementById(\"xx\")).then(function(canvas) {\n            document.body.appendChild(canvas);\n        });\n    }\n\n    handleClick(event) {\n        //To prevent page refreshing\n        event.preventDefault();\n        const {name} = event.target;\n\n        if(name === \"shuffleButton\") this.shuffle();\n        else if(name === \"saveButton\") this.save();\n    }\n\n    handleChange(event) {\n        const {name, value} = event.target;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    render() {\n        return(\n            <div className = \"memeGeneratorBody\">\n                <Form \n                    topText = {this.state.topText}\n                    bottomText = {this.state.bottomText}\n                    handleChange = {this.handleChange}\n                    handleClick = {this.handleClick}\n                />\n\n                <Meme \n                    url = {this.state.randomImg}\n                    topText = {this.state.topText}\n                    bottomText = {this.state.bottomText}\n                /> \n\n            <div class=\"outer\">\n            <p>DOM-rendered</p>\n            <p>&nbsp;</p>\n            <div id=\"imagewrap\" class=\"wrap\" style=\"border-style: solid;\">\n                <img src=\"https://i.imgur.com/EFM76Qe.jpg?1\" id=\"img_prev\" width=\"170\" />\n                <h3 class=\"desc\">Something <br /><span style=\"color: blue;\">Inspirational</span></h3>\n                <span id=\"wow\">WOW!</span>\n            </div>\n            </div>\n            <div id=\"canvasWrapper\" class=\"outer\">\n            <p>Canvas-rendered (try right-click, save image as!)</p>\n            <p>Or, <a id=\"downloadLink\" download=\"cat.png\">Click Here to Download!</a></p>\n            </div>\n            </div>\n        );\n    }\n}\n\n\nexport default MemeGenerator;"]},"metadata":{},"sourceType":"module"}