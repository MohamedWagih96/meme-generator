{"ast":null,"code":"import _defineProperty from\"/media/rogue/Rogue/Work/Projects/React/meme-generator/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/media/rogue/Rogue/Work/Projects/React/meme-generator/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/rogue/Rogue/Work/Projects/React/meme-generator/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/rogue/Rogue/Work/Projects/React/meme-generator/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/rogue/Rogue/Work/Projects/React/meme-generator/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/media/rogue/Rogue/Work/Projects/React/meme-generator/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/media/rogue/Rogue/Work/Projects/React/meme-generator/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import domtoimage from\"dom-to-image\";import Header from\"./Header\";import Body from\"./Body\";var MemeGenerator=/*#__PURE__*/function(_React$Component){_inherits(MemeGenerator,_React$Component);function MemeGenerator(){var _this;_classCallCheck(this,MemeGenerator);_this=_possibleConstructorReturn(this,_getPrototypeOf(MemeGenerator).call(this));_this.state={topText:\"\",bottomText:\"\",meme:{name:\"Joker and Mini Joker\",img:\"https://i.imgur.com/XTNyiVw.png\",width:1200,height:600},memes:[]};_this.badMemes=[\"61539\",\"28251713\",\"164335977\",\"112126428\",\"93895088\",\"71428573\",\"123999232\",\"178591752\",\"21735\",\"53764\",\"99683372\",\"28034788\",\"14230520\",\"129242436\",\"101910402\",\"124822590\",\"47235368\",\"161865971\",\"56225174\",\"131087935\",\"21604248\",\"21735\",\"101288\",\"155067746\",\"134797956\",\"155518747\",\"170715647\",\"181913649\",\"87743020\",\"438680\",\"188390779\",\"6235864\",\"157978092\",\"1035805\",\"196652226\"];_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleLoad=_this.handleLoad.bind(_assertThisInitialized(_this));return _this;}_createClass(MemeGenerator,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://api.imgflip.com/get_memes\").then(function(response){return response.json();}).then(function(data){var filteredMemes=_this2.filterMemes(data.data.memes);_this2.setState({memes:filteredMemes});}).catch(function(error){console.log(\"Error while retrieving data from the server\");});}},{key:\"filterMemes\",value:function filterMemes(memes){var _this3=this;return memes.filter(function(meme){return!_this3.badMemes.includes(meme.id);}).map(function(meme){return meme;});}},{key:\"shuffle\",value:function shuffle(){this.toggleVisibility(\"visible\",\"hidden\");var randomIndex=Math.floor(Math.random()*this.state.memes.length);var randomMeme=this.state.memes[randomIndex];this.setState({meme:{name:randomMeme.name,img:randomMeme.url,width:randomMeme.width,height:randomMeme.height}});}},{key:\"save\",value:function save(){var _this4=this;domtoimage.toJpeg(document.getElementById(\"memeWrapper\"),{quality:1.0}).then(function(dataUrl){//Create a hyperlink\nvar link=document.createElement(\"a\");//File name\nlink.download=_this4.state.meme.name;//Destination\nlink.href=dataUrl;link.click();});}},{key:\"toggleVisibility\",value:function toggleVisibility(spinnerVisibility,memeVisibility){document.getElementById(\"spinner\").style.visibility=spinnerVisibility;document.getElementById(\"memeWrapper\").style.visibility=memeVisibility;}},{key:\"handleClick\",value:function handleClick(event){//To prevent page from automatic refreshing\nevent.preventDefault();var name=event.target.name;if(name===\"shuffleButton\")this.shuffle();else if(name===\"saveButton\")this.save();}},{key:\"handleChange\",value:function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;this.setState(_defineProperty({},name,value));}},{key:\"handleLoad\",value:function handleLoad(spinnerVisibility,memeVisibility){this.toggleVisibility(spinnerVisibility,memeVisibility);}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(Header,null),React.createElement(Body,{data:this.state.meme,topText:this.state.topText,bottomText:this.state.bottomText,handleChange:this.handleChange,handleClick:this.handleClick,handleLoad:this.handleLoad}));}}]);return MemeGenerator;}(React.Component);export default MemeGenerator;","map":{"version":3,"sources":["/media/rogue/Rogue/Work/Projects/React/meme-generator/src/components/MemeGenerator.js"],"names":["React","domtoimage","Header","Body","MemeGenerator","state","topText","bottomText","meme","name","img","width","height","memes","badMemes","handleChange","bind","handleClick","handleLoad","fetch","then","response","json","data","filteredMemes","filterMemes","setState","catch","error","console","log","filter","includes","id","map","toggleVisibility","randomIndex","Math","floor","random","length","randomMeme","url","toJpeg","document","getElementById","quality","dataUrl","link","createElement","download","href","click","spinnerVisibility","memeVisibility","style","visibility","event","preventDefault","target","shuffle","save","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport domtoimage from \"dom-to-image\";\n\nimport Header from \"./Header\";\nimport Body from \"./Body\";\n\nclass MemeGenerator extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            topText: \"\",\n            bottomText: \"\",\n            meme: {\n                name: \"Joker and Mini Joker\",\n                img: \"https://i.imgur.com/XTNyiVw.png\",\n                width: 1200,\n                height: 600\n            },\n            memes: []\n        };\n\n        this.badMemes = [\n            \"61539\", \"28251713\", \"164335977\", \"112126428\", \"93895088\", \"71428573\", \"123999232\",\n            \"178591752\", \"21735\", \"53764\", \"99683372\", \"28034788\", \"14230520\", \"129242436\",\n            \"101910402\", \"124822590\", \"47235368\", \"161865971\", \"56225174\", \"131087935\", \n            \"21604248\", \"21735\", \"101288\", \"155067746\", \"134797956\", \"155518747\", \"170715647\",\n            \"181913649\", \"87743020\", \"438680\", \"188390779\", \"6235864\", \"157978092\", \"1035805\",\n            \"196652226\", \n        ];\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleClick = this.handleClick.bind(this);  \n        this.handleLoad = this.handleLoad.bind(this); \n    }\n\n    componentDidMount() {\n        fetch(\"https://api.imgflip.com/get_memes\")\n        .then(response => response.json())\n        .then(data => {\n            const filteredMemes = this.filterMemes(data.data.memes);\n\n            this.setState({\n                memes: filteredMemes\n            });\n        })\n        .catch(error => {\n            console.log(\"Error while retrieving data from the server\")\n        })\n    }\n\n    filterMemes(memes) {\n        return memes.filter(meme => !(this.badMemes.includes(meme.id)))\n                    .map(meme => meme);\n    }\n\n    shuffle() {\n        this.toggleVisibility(\"visible\", \"hidden\");\n\n        let randomIndex = Math.floor(Math.random() * this.state.memes.length);\n        let randomMeme = this.state.memes[randomIndex];\n\n        this.setState({\n            meme: {\n                name: randomMeme.name,\n                img: randomMeme.url,\n                width: randomMeme.width,\n                height: randomMeme.height\n            }\n        });\n    }\n\n    save() {\n        domtoimage.toJpeg(document.getElementById(\"memeWrapper\"), {quality: 1.0})\n        .then(dataUrl => {\n            //Create a hyperlink\n            let link = document.createElement(\"a\");\n            //File name\n            link.download = this.state.meme.name;\n            //Destination\n            link.href = dataUrl;\n            link.click();\n        });\n    }\n\n    toggleVisibility(spinnerVisibility, memeVisibility) {\n        document.getElementById(\"spinner\").style.visibility = spinnerVisibility;\n        document.getElementById(\"memeWrapper\").style.visibility = memeVisibility;\n    }\n\n    handleClick(event) {\n        //To prevent page from automatic refreshing\n        event.preventDefault();\n        const {name} = event.target;\n\n        if(name === \"shuffleButton\") this.shuffle();\n        else if(name === \"saveButton\") this.save();\n    }\n\n    handleChange(event) {\n        const {name, value} = event.target;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleLoad(spinnerVisibility, memeVisibility) {\n        this.toggleVisibility(spinnerVisibility, memeVisibility);\n    }\n\n    render() {\n    \treturn(\n\t        <div>\n\t            <Header />\n\t            <Body \n\t            \tdata = {this.state.meme}\n\t            \ttopText = {this.state.topText}\n\t                bottomText = {this.state.bottomText}\n\t                handleChange = {this.handleChange}\n\t                handleClick = {this.handleClick}\n                \thandleLoad = {this.handleLoad}\n\t            />\n\t        </div>\n\t    );\n    }\n}\n\nexport default MemeGenerator;"]},"metadata":{},"sourceType":"module"}